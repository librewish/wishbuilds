# Maintainer: Librewish <librewish@gmail.com>


pkgbase=garuda-gnome-settings
_gitname=garuda-gnome-settings
pkgname=(
    'garuda-gnome-settings'
    )
pkgver=r22.a5e55f7
pkgrel=1
arch=('any')
_branch='master'
url="https://gitlab.com/garuda-linux/themes-and-settings/settings/garuda-gnome-settings"
license=('GPL')
makedepends=('git')
source=("git+$url.git#branch=${_branch}")
sha256sums=('SKIP')

_install() {
    if [[ -d $srcdir/$_gitname/$1/etc ]]; then
        install -d $pkgdir/etc
        cp -rf $srcdir/$_gitname/$1/etc $pkgdir
    fi

    if [[ -d $srcdir/$_gitname/$1/usr ]]; then
        install -d $pkgdir/etc
        cp -rf $srcdir/$_gitname/$1/usr $pkgdir
    fi
    
    if [[ -d $srcdir/$_gitname/$1/skel ]]; then
        install -d $pkgdir/etc
        cp -rf $srcdir/$_gitname/$1/skel $pkgdir/etc
    fi

}

pkgver() {
	cd "$srcdir/garuda-gnome-settings"

# Git, no tags available
	printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"

}

package_garuda-gnome-settings() {
    pkgdesc='garuda linux gnome settings'
    depends=(

        'qt5ct'
        'kvantum-qt5'
	'kvantum-theme-layan-git'
	'tela-icon-theme-git'
	'layan-gtk-theme-git'
        'xcursor-breeze'
	'noto-fonts'
	'wish-wallpapers'
	'garuda-wallpapers'
	'garuda-icons'
	'sound-theme-smooth'
        'performance-tweaks'
	'perl-file-mimeinfo'
	'xdg-user-dirs-gtk'
	'xdg-utils'
	'ibus'
	'orca'
        )
    optdepends=(
	'systemd-guest-user'
        'timeshift-autosnap'
        'grub-btrfs'

        )  
    install=garuda-gnome-settings.install
    provides=('garuda-desktop-settings')
    conflicts=('garuda-desktop-settings')

    _install ''
}
